# Подробни инструкции за стартиране на проекта на друг компютър с Windows

## Необходими предварителни стъпки

### 1. Инсталиране на Node.js

1. Отворете уеб браузър и отидете на адрес: https://nodejs.org/
2. Изтеглете LTS (Long Term Support) версията
3. След изтегляне, стартирайте инсталационния файл
4. Следвайте инструкциите на екрана:
   - Натиснете "Next" няколко пъти
   - Приемете условията
   - Оставете опциите по подразбиране
   - Натиснете "Install"
   - Натиснете "Finish" след приключване

### 2. Инсталиране на Git

1. Отворете уеб браузър и отидете на адрес: https://git-scm.com/download/win
2. Изтегляне ще започне автоматично
3. След изтегляне, стартирайте инсталационния файл
4. Следвайте инструкциите на екрана:
   - Натиснете "Next" няколко пъти
   - Приемете условията
   - Оставете опциите по подразбиране
   - Натиснете "Install"
   - Натиснете "Finish" след приключване

## Изтегляне и настройка на проекта

### 1. Изтегляне на проекта от GitHub

1. Отворете Command Prompt (CMD):

   - Натиснете клавиша Windows + R
   - Напишете `cmd` и натиснете Enter

2. Изберете къде искате да изтеглите проекта (например на работния плот):

   ```
   cd %USERPROFILE%\Desktop
   ```

3. Изтеглете проекта с командата:

   ```
   git clone https://github.com/IvanGoranov02/db-shop.git
   ```

4. Влезте в папката на проекта:
   ```
   cd db-shop
   ```

### 2. Настройка на връзката към базата данни

1. В папката на проекта, създайте нов файл `.env`:

   - В Command Prompt (трябва да сте в папката db-shop), напишете:
     ```
     notepad .env
     ```
   - Ако получите съобщение "File does not exist, Create it?", натиснете "Yes"

2. В отворения Notepad, въведете следното, като използвате СЪЩАТА връзка, която вече имате:

   ```
   MONGODB_URI=mongodb+srv://testuser:testpass@cluster0.wa35n.mongodb.net/autoparts?retryWrites=true&w=majority
   DB_NAME=autoparts
   ```

   > Важно: Използвайте точно същия MONGODB_URI, който работи на оригиналния компютър. Горният пример е само примерен и трябва да се замени със СЪЩИЯ връзки и потребител, които вече използвате.

3. Запазете файла (Ctrl+S) и затворете Notepad

### 3. Инсталиране на зависимостите

1. Уверете се, че сте в папката на проекта в Command Prompt
2. Въведете командата:
   ```
   npm install
   ```
3. Изчакайте инсталацията да приключи (можете да видите зелена лента на прогреса и като приключи ще можете да въвеждате отново команди)

## Стартиране на проекта

### 1. Стартиране на скриптовете

1. Уверете се, че сте в папката на проекта в Command Prompt
2. Изпълнете последователно следните команди:

   ```
   npm run setup
   ```

   Изчакайте да приключи (ще видите съобщения за успешно създаване на колекции)

   ```
   npm run crud
   ```

   Този скрипт ще покаже основни операции с базата данни

   ```
   npm run queries
   ```

   Този скрипт ще покаже по-сложни заявки

   ```
   npm run access
   ```

   Този скрипт ще покаже как работи контролът на достъпа

### 2. Преглед на резултатите

1. В Command Prompt ще видите резултатите от всяка команда
2. Ако искате да проверите в MongoDB Atlas:
   - Отворете уеб браузър и отидете на адрес: https://cloud.mongodb.com
   - Влезте с потребителското име и парола, които вече са създадени
   - Изберете вашия клъстер
   - Натиснете "Browse Collections"
   - Изберете базата данни "autoparts"
   - Разгледайте създадените колекции

## Отстраняване на проблеми

Ако получите грешка:

1. **Проблем с връзката към MongoDB**:

   - Уверете се, че `.env` файлът съдържа ТОЧНО СЪЩИЯ MONGODB_URI като на оригиналния компютър
   - Проверете дали IP адресът на новия компютър е добавен в MongoDB Atlas:
     - Отворете MongoDB Atlas в браузъра
     - Отидете на "Network Access" от левия панел
     - Натиснете "Add IP Address"
     - Изберете "Add Current IP Address" или "Allow Access from Anywhere"
     - Натиснете "Confirm"

2. **Проблем с Node.js**:

   - Уверете се, че Node.js е инсталиран правилно
   - Отворете нов Command Prompt и въведете:
     ```
     node --version
     ```
   - Трябва да видите версията на Node.js (например v14.17.0)

3. **Проблем с инсталирането на пакетите**:
   - Изтрийте папката `node_modules` (ако съществува)
   - Изпълнете отново:
     ```
     npm install
     ```

## Кратко описание на проекта

Проектът представлява MongoDB база данни за управление на магазин за авточасти. Базата данни съдържа информация за:

- **Авточасти** (номер, име, категория, цена, съвместими автомобили и др.)
- **Клиенти** (данни за физически лица и фирми)
- **Поръчки** (детайли за поръчки, направени от клиенти)
- **Роли** (контрол на достъпа до системата)

Скриптовете демонстрират различни операции с базата данни, от прости до сложни, както и механизми за контрол на достъпа.
